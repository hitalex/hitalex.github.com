<?xml version="1.0" encoding="utf-8"?>
  <rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:atom="http://www.w3.org/2005/Atom"
  >
  <channel>
    <title>谢益辉</title>
    <link href="http://yihui.name/cn/feed/" rel="self" />
    <link href="http://yihui.name/" />
    <lastBuildDate>2012-08-20T20:32:20+08:00</lastBuildDate>
    <webMaster>xie@yihui.name</webMaster>
    
    <item>
      <title>速记</title>
      <link href="http://yihui.name/cn/2012/06/quick-notes/"/>
      <pubDate>2012-06-24T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/06/quick-notes</guid>
      <content:encoded><![CDATA[<p>简单罗列一下这两个月发生的事情。</p>

<ul>
<li>5月13日~19日，休斯顿参加<a href="http://www.interfacesymposia.org/Interface2012/Interface2012.html">Interface会议</a>，老板们已经多年不参加这个会议了（江湖闲言按下不表），但今年在Hadley那旮旯举办，所以举团南下

<ul>
<li>在会前两天召开GGobi会议，收效甚微，主要原因大概在本小子过去半年多在cranvas开发上不给力，很久没有动静了</li>
<li>在Hadley家烧烤聚餐，第一次面见JJ Allaire和Joe Cheng一波RStudio的人，也见到R core之一Duncan Murdoch大人，向其抱怨R网站太难看，同时见到：Keith Baggerly，和Kevin Coombes并肩战斗戳穿Duke癌症研究谎言的统计学家，Sweave重度用户，后面再提；Gabriel Becker，SearchTrees包的作者，Michael Lawrence的好搭档，两人一见面就没别的事，张口就是这程序那代码的；Norman Matloff，The Art of R Programming的作者，粤语熟练，会讲一些普通话，我告诉他我们在翻译他的书</li>
<li>会议晚宴上统计学家兼艺术家Mark Hansen的演讲完全不知所云，很多人都觉得很好，但没有艺术细胞的我执着地认为他该下乡去种地（希望他不要看到这里）</li>
<li>会上看到被Gelman大人长期猛烈批评的Wegman大人（这个会议的头号组织者），江湖关系复杂</li>
<li>一如既往没有什么好报告，或者说少有我听得懂的报告，现在出门开会都这样，哥不适合在学术界生存</li>
</ul>
</li>
<li>5月30日上午，RStudio开发者到访Ames村办大学，在村里和我一起讲RStudio和可重复性研究，中午和大二老板四人共进午餐，相谈甚欢，吃完饭大老板一把抓走我的账单，然后跟JJ说你的账单你自己付，我泪流满面，多么实诚又照顾学生的老板啊，在国内吃饭让客人自己买单几乎不可能，文化差异</li>
<li>5月30日下午，JJ开车带我一起去明尼苏达（其实他到Ames村的主要原因就是我开车不熟，不敢一个人开明尼），路上净是谈各种软件，包括Ubuntu的Unity界面是多么恶心，美国人开车总是喜欢双手离开方向盘手舞足蹈……

<ul>
<li>晚上在当地的R小组接着报告，见到了Daniel Kaplan，几乎是自打R出道以来就开始用R的老爷子，我很喜欢他，他学习能力很强，问问题也能一下子问到点子上，现在在RStudio当客服的Paul就是他的学生，两年前RStudio出道的时候他就看准这个编辑器要火了，给RStudio提了很多建议</li>
<li>Org-mode的用户是最顽固的，Emacs果然是一种信仰，可是真的不是每个人都是极客（Org-mode是极客中的极客，反正我是招架不住）</li>
<li>晚上住在Macalester大学的校友别墅，进门就亮瞎了我的狗眼，恐怕我这辈子都住不上这么好的房子，皇宫似的，有所得必有所失这条定律在我身上一直灵验，尽管JJ给我安排了个好住处，但我发现我把电源线忘在会场，第二天一大早飞机，来不及拿了，一周之后JJ送了我一根旧的</li>
<li>前脚刚从明尼飞走，后脚就有当时的听众来信招人做自动化报告</li>
</ul>
</li>
<li>5月31日，飞纽约，在中心极限定理（CLT）机场转机，到新泽西AT&amp;T实验室跟Simon实习</li>
<li>6月5日晚，从新泽西乡下坐火车进纽约城，第三次和JJ报告，给纽约R用户小组，这是个超大的组织

<ul>
<li>见到组织者Drew Conway，也就是Machine Learning for Hackers的作者之一，Drew让人印象极其深刻，块头太大了，像一面墙似的耸立在你面前，我说话说得脖子酸；他本是政治系的，却干着统计的活；我们讲完之后我看他发了一条推特消息：knitr真是个坏屁股！他这是最后一次组织R聚会，因为要毕业走人了，最后交代了下一任组织者</li>
<li>其实这次报告有三个人，第三人是rApache的作者Jeffrey Horner，他和JJ一起把sundown这个库移植到R中，写了个markdown包，也就是RStudio中R Markdown功能的支柱之一；Jeff也是超高个儿，不过还好比较瘦，没那么窒息，真人版比照片帅多了</li>
<li>讲完一伙人去酒吧，哥从小就是好孩子，这是生平第一次进酒吧，我哪儿知道酒名，酒吧里吵得要命，听不清，于是要了杯可乐，我就是这么土；和一些一直有邮件联系但素未谋面的人聊了两个小时，最后下一任组织者专门要了一瓶度数比较高的酒请我和Jeff，算是代表组织者感谢一下，那小伙也是knitr粉丝，正在写一本书，其中专门用一章介绍knitr</li>
<li>半夜才从城里回到乡下，三次报告其实都是为了最后一次大报告排练的</li>
</ul>
</li>
<li>6月12日~16日，一个人来到田纳西，useR! 2012会议，创了个纪录，给了三场演讲

<ul>
<li>第一场讲cranvas，之前在休斯顿的报告烂得不堪回首，这次做了个大胆的决定，把幻灯片扔掉，只有代码，上来二话不说就讲第一个例子，就这样一直讲到最后一个例子，没有简介、动机、实现、示例和总结，事实证明这是个无比正确的决定，讲完震惊了Bill Venables长老，老板也非常高兴，兴奋地上来跟我击掌</li>
<li>第二场讲社交化编程，其实就是讲Github，把SVN痛批一顿，最近半年的确在Github上获益良多</li>
<li>第三场是邀请报告，这次是狗屎运，第一次做邀请报告，也就是和JJ排练了三遍的可重复性研究报告，这次演讲基本达到了效果，电闪雷鸣的观点让很多人都下定决心转向knitr</li>
<li>这三场报告可能是我这些年近五十场报告中讲得最好的，主要是插入笑点最多，恶搞料足，这也是我演讲最看重的元素，不是为了哗众取宠，而是为了让听众集中精神，这是演讲有效的前提；后来大家纷纷问我是不是在电视台有第二职业……这些笑话也震撼了Frank Harrell主席，我跟他说大概是继承我爹吧，回头我看推特，有日本听众这样描述

<blockquote><p>もう一つ言うと、昨日紹介したRでマインスイーパーのあれつくったのもknitrの作者と同じ。この人プレゼンがすごく面白くて会場に爆笑の嵐を起こしてる</p></blockquote></li>
<li>附图两张
<img src="http://i.imgur.com/cs0lG.jpg" alt="useR! 2012" />
<img src="http://i.imgur.com/GPFxG.jpg" alt="useR! 2012" /></li>
<li>第一次看见Frank的时候，我几乎悲从中来，我08和10年分别在useR!上听过他的课，精神矍铄，但这次却弯腰拄着跟拐杖，我心想怎么两年就老成这样了，后来才知道是最近刚受伤了；Frank见到我紧紧握住我的手，说你那个fig.cap和cache选项真是好用啊，我一直在用</li>
<li>第一天欢迎酒会上，见到一位Genentech的大叔，JJ向他介绍这就是写knitr的那位先生，他看到我的名字，一下子冲上来抱住我左一口右一口……幸好是个男的，不然我要麻烦了</li>
<li>这次useR!上给我捧场的人实在太多了，邀请报告中就有两场提到knitr，其中Kevin Coombes还专门用一张片子介绍了knitr，让我倍感荣幸，半年前我和他争论过，现在看来他已经接受knitr了，估计是Keith回去吹风了；如果你没听过<a href="http://www.cbsnews.com/video/watch/?id=7398476n">Duke那个丑闻</a>的话，建议一定去看看，不可重复的研究（复制粘贴）真的是会害死人的，已经有几位病人因为那个错误的研究结果丧命；我之所以感到无比激动，就是因为有这个背景</li>
<li>在田纳西多谢Pengcheng的热情招待，既是湖北老乡，又是Ames村办大学校友，带我四处吃喝玩乐，招待太周全了，非常感动；一起吃饭的两位台湾朋友也很聊得来，我这次算是知道了，凡是在台湾搞统计的，几乎不可能跟谢邦昌老师没有关系；说起赵民德老爷子，一致认为他像金庸小说里的大侠（洪七公？），若干年前他在人大讲写论文的讲义我至今还偶尔翻出来读一读，写的真是非常好，在我看过的所有文章中，我认为唯一有希望赶上这位老爷子的，只有<a href="http://cos.name/2012/05/chase-after-eb/">杨灿</a>一人</li>
</ul>
</li>
<li>我们有没有输出价值观我不知道，但中国可以向外输出R了

<ul>
<li>肖楠的日志在<a href="http://stackoverflow.com/q/11056032/559676">StackOverflow</a>上被引用，我用功夫熊猫中的一句话评论：This is a sign</li>
<li>第五届中国R语言会议的扑克牌传到了Terry Speed长老手中，长老对此爱不释手欣喜若狂，称不惜一切代价要从中国多买一些，这位长老在统计界是中神通王重阳级别的人物，让我心情非常冲动，这又是统计之都之“人本”精神的绝佳体现，该加5分</li>
</ul>
</li>
<li>论文

<ul>
<li>animation包的论文历经约一年半时间，终于被接受了，真慢，跟主编争论有点无聊，不怕神一样的对手，就怕LaTeX中毒的主编</li>
<li><a href="/en/2012/03/a-really-fast-statistics-journal/">我期待</a>传统论文评审和发表形式的死亡，被人告知Elsevier已经在这方面作出努力了：<a href="http://www.articleofthefuture.com/">Article of the Future</a></li>
</ul>
</li>
<li>被偷东西一般不是什么好事，但要看是谁来偷了，被高手偷是一种荣幸

<ul>
<li>我<a href="http://biostat.mc.vanderbilt.edu/wiki/Main/VenablesShortCourse">看见</a>Bill Venables<a href="http://biostat.mc.vanderbilt.edu/wiki/pub/Main/UseR-2012/VenablesRQuoVadis.pdf">偷了</a>我在knitr中定义的LaTeX样式</li>
<li>Jeroen Ooms在他的OpenCPU中<a href="http://public.opencpu.org/R/pub/stats/glm/help/html?">偷了</a>我的<a href="https://github.com/yihui/configuration/blob/master/R.css">CSS</a></li>
<li>在Github上fork（谁能给这个词一个翻译？）不算偷，不过被fork也是一种荣幸，knitr的fork队伍中有R大佬Douglas Bates和可重复研究的大佬及cacheSweave作者Roger Peng，目前Github上knitr的fork数量在<a href="https://github.com/languages/R">R类</a>库中已经超越ggplot2排名第二，这就是社交化编程的体现，去中心化，让有能力的用户自己提交补丁实现他们预期的功能（闭源软件的灭绝只是时间问题）</li>
</ul>
</li>
<li>GSoC

<ul>
<li>太云<a href="http://www.google-melange.com/gsoc/project/google/gsoc2012/cloud_wei/16001">入围</a>Google编程夏令营，我们要掀起一场革命，看看在社区合作时代，knitr+Github能否取代（至少影响）一些旧式的刊物（如The R Journal）或网站（如R Graph Gallery），这将会是一个非常有意思的探讨</li>
</ul>
</li>
<li>文债

<ul>
<li>欠了一屁股文债，每天狂写，可还是有一批虎视眈眈的任务等着</li>
<li>多年没联系的王学枫来电，说整一本高水平的R语言书，我说我的忍者扔那儿又是三个月了</li>
<li>C&amp;H出版社默默期待着可重复研究的书稿大纲，我自刎八回都不足以赎罪</li>
<li>上一个书稿大纲还没整完，又有拼书的来约一章了，我都不敢回复了</li>
<li>现代统计图形咬牙重新启动，希望这次在COS一帮人的帮助下能完成第二次排版及修订任务，前面排长队要书稿的可能近期能收到我的回复了，我知道我自刎八十回都不足以谢罪了</li>
</ul>
</li>
<li>其它

<ul>
<li>阳志平写了一篇非常抬举knitr的<a href="http://www.yangzhiping.com/tech/r-markdown-knitr.html">文章</a>，这事儿以后再说，关键是我好像在微博上看见ox评论这篇文章了，李舰问是不是天地人大那个ox，我也有此疑问，因为那个牛跟我是老乡，那时候天地人大上的名ID啊，十年前军训时听说楼上班里有个宜昌人，还兴冲冲去找他来着</li>
<li>在Github上观察了若干强人，其实国内那种“少林寺扫地僧”式的高手还是不少的（如宫雨老师），例如我觉得<a href="https://github.com/lq">lq</a>就是这样；Github真是一个近距离观察各类神人出招的好地方</li>
<li>COS论坛因为是一直盯的地方，所以不会有神的感觉，但这两年明显可以看到一批人的进步，比如肖楠已然成为一方大侠，主伟呈在许三多式成长</li>
<li>还是COS论坛，我们该拿坛霸怎么办？坛霸就是屁大点儿事统统都发出来问星人，我个人觉得每周问三五个问题的频率可以接受，但每天都扔出来十来个问题似乎太夸张了，一方面，我们要珍惜志愿者劳动，另一方面，你好歹也要有点自学能力吧，志愿者不是奶妈</li>
<li>在AT&amp;T实习最大的收获可能是shell脚本，各种awk/sed乱入几G的数据，关于shell脚本，举个例子，我住的宿舍无线网络不好，经常掉线，只能重启，我搜了很久终于找到不用重启的办法，就是卸载再加载无线网络模块，于是我写了个无限循环，我叫你掉线，我叫你掉线，……

<pre><code>#!/bin/sh

while true
do
  ifconfig | grep -q 10.2.13 &amp;&amp; true || (sudo rmmod iwlwifi;
     sleep 1; sudo modprobe iwlwifi; sleep 30; echo rebooted wireless)
  sleep 1
done
</code></pre></li>
</ul>
</li>
<li>各位客官，你能帮我吗？我有一些杂项任务

<ul>
<li>MSG包中有一个<a href="https://github.com/yihui/MSG/blob/master/demo/Napoleon.R">拿破仑行军/撤退路线图</a>，基于Google Maps，肖楠出品，你能用循环帮我把它改短一些吗？</li>
<li>有一位强人Wush Wu愣是用R写了个<a href="https://github.com/yihui/knitr/blob/master/R/utils-base64.R">base64编码的函数</a>，我的问题是，它能向量化吗？即：避免循环。</li>
<li>R 2.16.0将会增加一个<code>getParseData</code>函数，你能帮我改进<a href="https://gist.github.com/3146836">这个代码高亮函数</a>吗？我已经把基本工作做完，剩下的主要工作是把空格加回来，因为这个函数会丢弃空格，你要么从行列号反推空格的位置，要么把原代码的符号（token）替换为高亮版本，这是一个血腥细节问题，我不想杀脑细胞</li>
<li>我有一个丢弃了两年的<a href="https://github.com/yihui/iBUGS">iBUGS包</a>，你想学习用gWidgets做图形界面吗？想学的话，我可以把这个包转让给你，我不想维护它了</li>
<li>你能帮忙整理COS论坛素材添加到<a href="https://github.com/yihui/r-ninja">忍者秘笈</a>吗？</li>
</ul>
</li>
</ul>

]]></content:encoded>
    </item>
    
    <item>
      <title>分段回归的拐点连续性</title>
      <link href="http://yihui.name/cn/2012/04/break-points-in-regression/"/>
      <pubDate>2012-04-30T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/04/break-points-in-regression</guid>
      <content:encoded><![CDATA[<p>我翻了一下，<a href="/cn/2010/12/unifying-bayesians-and-frequentists/">上一次写</a>跟统计有关的话题已经是2010年的事情了，多数时候，这里写的都是（计算机）技术类与生活类的话题，于是我又想起来很久以前有客官说，你还不如改成“Keep on eating”算了。废话少说，言归正传。</p>

<p>最近有客官问：</p>

<blockquote><p>在分段线性回归中，转折点的连续性是必须的吗？</p></blockquote>

<p>意思是这样，下图中，两段直线应该接着呢（实线），还是可以各走各的（虚线）？</p>

<p><img src="http://i.imgur.com/oicZb.png" alt="plot of chunk linmod" /></p>

<p>虚线线段的中间一段不应该被画出来，我偷了个懒画上去了，本来应该是间断的。连与不连，归根结底，只不过是回归设计阵要不要多一列的问题。这是线性回归中经典的模型比较问题，上面<code>fit2</code>是全模型，<code>fit1</code>是取消一个限制的模型，自由度之差为1，残差平方和之差除以1，再除以全模型的残差平方和除以相应自由度（88/96），就是F统计量，P值也就出来了。R里面所谓的<code>anova()</code>函数，就是干这事儿的：</p>

<p>这里因为我们设计的真实模型就是两部分直线斜率和截距在0.5前后都不同，所以这里F检验高度显著，说明加上截距限制条件不合理。道理很简单：除非简约模型和全模型没有显著差异，我们只能认为全模型相对“好”一些。</p>

<p>然而，线性模型本身就是对现实的简化。按照上面的想法，其实我们还需要看更复杂的全模型，否则不能认为线性模型就是合适的模型，比如可以考虑非线性模型。复杂模型是没有尽头的，如果要一个个检查下去，那大家都不用干活了。2008年我在COS写了一篇简单的<a href="http://cos.name/2008/11/lowess-to-explore-bivariate-correlation-by-yihui/">LOWESS文章</a>，如今我仍然可以把它搬出来，因为LOWESS实在是回归模型中的战斗机，它是模型复杂与简约的很好平衡。前面的直线回归可以看作LOWESS的特例，如下<code>fit4</code>。我们可以构造一个相对复杂的LOWESS模型（<code>span</code>参数取小一些），然后和一个简单的模型比较，如：</p>

<p><img src="http://i.imgur.com/nGVDw.png" alt="plot of chunk loess-comparison" /></p>

<p>P值很大，这毫不奇怪，因为真实模型就是按照两段直线构造的。弯弯曲曲的复杂模型无法打败简单模型，此时我们可以有点底气说两个线段的直线回归可能是对数据的一个恰当描述。</p>

<p>客官的第二个问题是：</p>

<blockquote><p>转折点怎么确定？</p></blockquote>

<p>好问题。我对学术研究其实没多大兴趣，所以懒得去文献堆里翻找。我总觉得很多研究是把问题复杂化了，这种文献海让我觉得窒息。如果是我，第一步肯定是画平滑曲线，然后再去结合具体事件背景去决定。如前面的数据用<strong>ggplot2</strong>很容易分组画图：</p>

<p><img src="http://i.imgur.com/Va7An.png" alt="plot of chunk loess" /></p>

<p><img src="http://i.imgur.com/J3cg2.png" alt="plot of chunk loess" /></p>

<p>显然所有数据放一条线上建模不合适。作为普通青年的我，到此就止步了（所以我离学术还十万八千里）。不过作为二青年想起一件事，如果不知道转折点，而靠不断推移转折点、新建模型、比较模型得来的转折点，是否有多重比较的嫌疑？比如先试0.2为转折点，再试0.3，……，一直试到0.9，看哪个模型跟全模型比起来没有显著差异。或者说，如果本来真实模型中不存在这样一个转折点，而通过这种方法找出转折点的概率有多大？我估计我八成问了一个很二的问题，应该早有人研究过了。做个模拟应该也不难。</p>

<hr />

<p>本文是我第一次在博客里尝试<strong>knitr</strong>包，点击<a href="https://github.com/yihui/cn/blob/gh-pages/_posts/_2012-04-30-break-points-in-regression.Rmd">这里看源文件</a>以及<a href="https://github.com/yihui/cn/blob/gh-pages/_posts/_knit-all.R">编译代码</a>。关于<strong>knitr</strong>，待我下回在COS详细分解（<a href="https://github.com/yihui/r-ninja/blob/master/11-auto-report.md">预览</a>）；昨天刚提交0.5版本到CRAN，最终实现了我的初步理想：会R就会动态生成报告，把LaTeX扔一边儿去吧！</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>功能地狱</title>
      <link href="http://yihui.name/cn/2012/04/reference-and-footnote/"/>
      <pubDate>2012-04-09T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/04/reference-and-footnote</guid>
      <content:encoded><![CDATA[<p>Cloudly大人最近奋发图强，捡起来两年前的<a href="https://github.com/cloudly/Play-Econometrics-with-R">计量经济学小册子</a>，又开始奋笔疾书。讨论到交叉引用的事情时，我觉得这就是锤子钉子的故事：因为我们有<code>\ref{}</code>的能力，所以下意识就会拼命用，定理5引用例子3，图8引用页2，每引用一次就是给自己的作品缠上一道线，写完一本书我们就成茧子了。世上最容易读的作品肯定是给小孩读的，那么童话故事就是一个很好的参照，下面我给大家讲一个《青蛙王子》的故事：</p>

<blockquote><p>标题：青蛙王子</p>

<p>作者：格林兄弟（脚注：作者单位……邮箱……通讯地址）</p>

<p>一、引言</p>

<p>在遥远的古代，人们心中的美好愿望往往能够变成现实。就在那个令人神往的时代，曾经有过一位国王（参见第2章）。国王有好几个女儿，个个都长得非常美丽（张三，公主列传文献1，1784）；尤其是他的小女儿，更是美如天仙（见图1）（脚注1：就连见多识广的太阳，每次照在她脸上时，都对她的美丽感到惊诧不已）。</p>

<p>二、研究动机</p>

<p>国王的宫殿附近，有一片幽暗的大森林（李四，建筑史文献2，1812）。在这片森林中的一棵老椴树下，有一个水潭，水潭很深（王五，地理志文献3，1825）。在天热的时候，小公主常常来到这片森林，坐在清凉的水潭边上。她坐在那里感到无聊的时候，就取出一只金球，把金球抛向空中，然后再用手接住。这成了她最喜爱的游戏（如图2所示，数据见表1）。</p>

<p>表格1：公主扔球数据</p>

<p>时间 温度 速度 结果<br/>
14:29 32 5m/s 接住<br/>
14:31 32 3m/s 接住<br/>
....<br/>
14:52 30 7m/s 没接住</p>

<p>不巧的是，有一次，小公主伸出两只小手去接金球（见第78页），金球却没有落进她的手里，而是掉到了地上（如表1所示），而且一下子就滚到了水潭里。</p>

<p>……</p></blockquote>

<p>当然这么说有些夸张了，但现在有哪篇学术文章不是这个范儿？</p>

<p>上次我提到Rework，后来有客官表扬我是一只大青蛙。本青蛙略冤，蹲井里再琢磨了一下，其实我并不是说Rework说的不对，只是不知道它是否适合我，关于这事儿的八千字以后有机会再写。先说一件事，这本书是一本易读的书，每一篇长度在一页到一页半之间，每一篇都有整页插图，字大行距大。没有文献列表，如果要引用，就直接用文字把要引用的内容讲述一遍，读者可以以任意顺序阅读，不必从第8页跳回第3页，或从第5页跳到参考文献列表去找那该死的张三（2002）到底是神马东西。</p>

<p>最近几个月在推Markdown，意思并非是说LaTeX需要被取代，而是基于这样一个想法：我们的写作究竟有多大概率需要复杂的排版？如果这个概率小，那为何不先用一个相对简单的排版工具呢。MD是一个弱到爆的标记语言（严格来说它不算标记语言），你要是从LaTeX的角度来问：它能干这个那个吗？答案通常是非常肯定的：不能！问题是，我写日志、写作业、写简单的数据分析报告，需要“这个那个”功能吗？</p>

<p>给<a href="http://www.icsa.org/bulletin/">泛华统计协会</a>又灌水一篇，讲<a href="/en/2012/06/enjoyable-reproducible-research/">让可重复性统计研究欢乐起来</a>。写这篇文章的时候我想起129合唱，那时候每晚练歌让我真心讨厌这个活动，费这么大劲在校内几个院系里夺个名次有毛线用，和129有毛线关系。可重复研究和LaTeX绑在一起就是这个感觉，文学化编程不能因为Knuth用TeX就和TeX绑在一起。在这个网络时代，各种技术都成熟了，何不让大家欢乐地进行可重复统计研究呢？MD易学易用，我们再稍微花点心思把默认的CSS调得漂亮一点，不就轻易说服用户放弃不可重复的复制粘贴了么。用我文中借用别人的一句话：要推广好习惯的最好办法就是让好习惯比坏习惯更简单。</p>

<p>话虽这么说，我仍然是重度LaTeX用户一枚，乐此不疲研究暗黑魔法。</p>

<p>注：本文本写于4月初，但真正发出来已经7月末了……</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>春游记</title>
      <link href="http://yihui.name/cn/2012/04/spring-tour/"/>
      <pubDate>2012-04-08T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/04/spring-tour</guid>
      <content:encoded><![CDATA[<p>昨天琢磨着要出门溜达一圈去，今儿个早上起床开着自行车就去河边了。河边都是树林，溜达了一个时辰往回走，手机拿出来随手拍两张。</p>

<p><img src="http://i.imgur.com/yXzBt.jpg" alt="" /></p>

<p>这个小河湾和我家那边有些许相像，小时候在这种浅浅的河里站着，水从脚上流过，总让我感觉水没动，而是我被河底载着在往相反的方向移动，所以在河里总是站不稳，晕得慌，舅舅家里的哥哥姐姐就解释这是盐吃少了，那时候屁大点孩子，当然别人说什么都信；我不是牛顿，被苹果砸就能砸出万有引力，只能信了这个缺盐理论，嗨，想当年，相对论离哥其实就一步之遥，谢因斯坦就在河里捞鱼摸虾中没影了。</p>

<p><img src="http://i.imgur.com/2gshj.jpg" alt="河滩" /></p>

<p><img src="http://i.imgur.com/SHXlI.jpg" alt="大江东去" /></p>

<p>站在河堤上感觉腿给刺扎了，低头一看，一根不知名的草木棍子，枯了半截，上面一支新芽，下面一排刺。</p>

<p><img src="http://i.imgur.com/9snUy.jpg" alt="" /></p>

<p>某文艺青年正在研究手机相机设置，突然身后传来一阵鸟叫，叫的节奏跟狗似的，开始没注意，但我在拨弄相机给刺棍子拍写真时，那鸟狗好像一直冲我叫，于是我转身一看，霍哦，原来是只松鼠：</p>

<p><img src="http://i.imgur.com/V9Mvi.jpg" alt="" /></p>

<p>本村松鼠多，但松鼠叫还真是头一次听到（今天在林子里还头一次听见啄木鸟的声音了，果真是好鼓手，那敲的节奏）。那松鼠就趴在一根枯树枝上，冲我叫个不停，我不知道它是什么意思，反正我看着很欢乐，于是给它<a href="http://v.youku.com/v_show/id_XMzc4MjUxMTcy.html">录了一段</a>：</p>

<p><embed src="http://player.youku.com/player.php/sid/XMzc4MjUxMTcy/v.swf" allowFullScreen="true" quality="high" width="300" height="520" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" /></p>

<p>它高高在那儿爬上爬下叫个不停，于是我跟它来了一段<a href="http://v.youku.com/v_show/id_XMzc4MjUxNzYw.html">对话</a>，具体说的是什么，各位客官自己猜好了。最神奇的是，本来它在哪儿乱叫，后来我说五个字，它也说五个字，松鼠都会数数了，这可真是了不得了：</p>

<p><embed src="http://player.youku.com/player.php/sid/XMzc4MjUxNzYw/v.swf" allowFullScreen="true" quality="high" width="500" height="400" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" /></p>

<p>游记完毕。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>归去来兮</title>
      <link href="http://yihui.name/cn/2012/03/as-years-go-by/"/>
      <pubDate>2012-03-23T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/03/as-years-go-by</guid>
      <content:encoded><![CDATA[<p>每次写新的日志之前要先清理一下旧日志，因为<a href="/cn/2012/02/hello-jekyll/">搬家</a>把很多文章的格式都弄乱了，尤其是几乎所有的图片链接都成了死链接，都得重新传，所以写得越来越慢。有客官对此还<a href="http://cos.name/cn/topic/106355">专门分析</a>了我的博客写作数据，发现我的篇数越来越少，字数越来越多，间隔越来越长。比如下图是我的相邻日志日期间隔，最高的那个点就是我说要从WP搬家到Jekyll之后等待的时间，从2011年的最后一篇到2012的第一篇足足过了三个多月：</p>

<p><img src="http://i.imgur.com/w0TcS.png" alt="日志间隔时间" /></p>

<p>开会后跟<a href="http://tengfei.name">腾飞</a>聊网站这些事儿，这厮小时候肯定有一篇课文没背好，就是《小猫钓鱼》。我一直相信热心必须有耐心相伴才能成事；COS团队里有时候有人因为白天聊了一些宏图大业的事情而激动得半夜睡不着觉，我对这种现象的第一反应往往是怎么维持这种热情。几年前我在论坛贴了一篇丰子恺的<a href="http://cos.name/cn/topic/101097">《渐》</a>（美其名曰“文化建设”），这也是我这几年反复读反复引用的文章；道理极其朴素，但把它读进心里不容易。</p>

<p>前些日子我请<a href="http://fan.cos.name">范总</a>点评一组幻灯片，范拎出里面一句话，曰“投资的成就根本是哲学的成就”。我搞不清楚什么技术分析或量化分析，也不知道什么哲学，不过这句话听起来很符合我的胃口。</p>

<hr />

<p>我用“归去来兮”作标题，和陶渊明没关系，只不过是我去年11月想的一个标题而已。一个五年多没联系的师弟突然来信，让我顿时有种恍如隔世的感觉，于是拟题归去来。那时候我还在远大前程协会混迹，挂名副会长，其实就是网管，然后一起拎着讲座海报去各个宣传栏里贴。这师弟是协会的骨干分子，最深的印象就是整天熬夜，只要我早上在路上看见他，大多都是头发蓬乱熬完夜从楼里走出来。他找到我的原因是因为看了COS主站上<a href="http://cos.name/2011/08/meaning-of-traveling/">侯瑀的文章</a>，这事儿就有点趣了，因为他不是统计系的，一个非统计系的工作人士跑来COS看我们的文章，说明我们单篇文章的影响力还是挺深远的。侯瑀同志真是激励了不少人啊。这是从COS找到我的，还有一个更久以前一个从小轩哥的博客找到我的十来年没联系的高中同学，这个更让我不得其解。人生不见，动如参商。</p>

<p>五年前我说<a href="/cn/2007/11/awesome-scalable-vector-graphics/">SVG太牛了</a>，当时称浏览器支持还很欠缺，连Firefox对SVG动画支持都不太好；五年后，Chrome浏览器都已经出来了，大多数浏览器都支持SVG了。现在我开始研究<a href="https://github.com/mbostock/d3/">D3</a>，它画图的一个重要媒介就是SVG，而且动画的语法非常简单。Chrome自带的控制台也很牛，可以直接在浏览器内用JS代码操纵HTML或SVG元素，感觉跟用R差不多了。</p>

<p>四年前我<a href="/cn/2008/08/an-introduction-to-processing/">看到Processing很惊叹</a>，也提到那位大神把Processing翻译为JavaScript库，前些天有客官在我那篇日志下留言，我突然发现如今这个JS库已经成长为<a href="http://processingjs.org/">一个大网站</a>，还有各种在线编辑器，再次激起学习欲望。</p>

<p>七八年前我看到UCLA的<a href="http://www.ats.ucla.edu/stat/">一些统计软件教程</a>，觉得做得挺不错；如今他们的<a href="http://www.ats.ucla.edu/stat/r/code/">R教程</a>已经开始用我的<strong>knitr</strong>包进行改写，让网页和R代码无缝结合，直接从源代码编译为带结果的HTML页面输出，无需任何复制粘贴。我觉得他们的志愿者劳动应该发扬光大再上新台阶，因此决定带一队人马去帮忙把这个网站好好整一整，也算是对免费资源贡献者的回报。</p>

<p>四年前<a href="/cn/2008/06/back-from-bremen/">我在不莱梅</a>第一次见到AT&amp;T的Simon、Debby和现在ISU的老板们，两年前周老师溜达到我的网站约书，两个月后<a href="/cn/2010/07/3rd-chinese-r-conference-beijing/">我在北京</a>第一次见到卢大编辑，去年通过老板支持和卢大编辑牵线<a href="/cn/2011/09/ny-strata-and-nj-att/">去纽约</a>参加Strata会议，顺便就去AT&amp;T溜达一圈，又见了Simon和Debby，由D接待<!--，今年暑假又要去Simon那旮旯了，这实习实际上是用四年投了一封“简历”-->。后面二十字暂按下不表。</p>

<p>五年前我脑子抽风写了个<strong>animation</strong>包，纯属为了好玩，第二年去德国溜达一圈，第二年冬天开始第一届中国R语言会议（今年第五届），第三年上半年中奖，第三年下半年来了<a href="http://www.iastate.edu">爱姆斯村办大学</a>。第五年就此事给ICSA<a href="http://icsa.org/bulletin/issues/ICSABulletin12Jan.pdf">灌了一篇水</a>，并把编辑大人Yan老师拐进COS主站。</p>

<p>COS主站一直有一个问题困扰着我，就是我们没有合适的logo标志图片，等了三年，我们等来了李龑，操起家伙解决了我们的问题，从此我们有了统计之印。COS成员这些年来来去去，偶尔会看见论坛上有注册了五年才第一次发言的会员；还有曾经有辉煌灌水战绩的会员<a href="http://cos.name/cn/topic/104024">去而复归</a>，比如大家都熟悉的colinisstudent；还有主力管理员如无痕那小子，高考完就混迹论坛，后随我一起做网站苦力，现在已经从美帝溜完一圈回朝了，而我们的新管理员们也在奔美帝。</p>

<p>去年G_will<a href="/cn/2011/10/back-into-the-dust/#comment-429725642">留言说</a>可以看看《Rework》，现在我已经看完别人寄给我的这本书，觉得还挺有收获的，不过总觉得观点有点偏激，让我心里又萌生了一些矛盾；同时寄来的还有我喜欢的<a href="/cn/2008/11/habits-of-effective-manager/">德鲁克</a>，这两本书风格当然截然不同，一个是叛逆后进，一个是经典大师，孰是孰非，仍然是小马过河的问题。若按照老式的一份耕耘一份收获原则，Rework看起来很轻浮，道理一看就懂，公交车加饭后几天就翻完了，所以可能真的只是一时的噱头；德鲁克读起来则慢得多，因为不得不停下来琢磨里面的逻辑，经常看了后面忘了前面，也许会更有收获。无论如何，让事实去检验吧。</p>

<p>九年前，奶奶过世。二十年前她还让我们兄弟几个<a href="/cn/2010/12/wisdom-of-zhou-libo/">大的让着小的</a>，从手帕里拿给我们两毛钱去买乒乓球，爷爷用锯子给我们锯球拍；十三年前她从我卧室窗户递给我腊肠带去学校；十年前我从北京回家她还在外面晒太阳。</p>

<hr />

<p><a href="/cn/2012/02/hello-jekyll/">上上篇日志</a>说到我在整理过去日志的时候发现四点问题，方方同学颠儿颠儿冒出来说“木有啊，很实在啊”。我板上钉几颗钉子试试：五年前我自以为是<a href="/cn/2007/10/poor-tech-in-people-univ-of-china/#comment-429720433">过度嘲笑群众大学网站技术</a>，后来一位网管大人不知从链过来，纠正本小子的狂妄。六年前给高校统计论坛<a href="https://github.com/downloads/yihui/yihui.github.com/Thoughts-2006-Yihui-Xie.pdf">报告</a>，现在看来简直是屁都不懂，还瞎拽洋文，现在我还记得当时讲完去吃饭的时候一位（可能是北师的）师姐在电梯里问我局部多项式的事情，我胡乱搪塞了几句，仿佛很简单似的。五年前对自由度的解释忿忿不平，暴跳发日志一篇，有晕死的客官<a href="/cn/2007/10/degree-of-freedom/#comment-429720373">评论说</a>“深深感觉到博主有些牛气，有些自我膨胀，有些胡言乱语”，可惜当年那小子心高气傲根本没当回事。无聊的<a href="/cn/2007/10/my-life-as-a-paparazzo/">事情</a>和<a href="/cn/2007/10/rgui-translation/#comment-429720448">回复</a>也一大堆，没话找话狗尾续貂。</p>

<hr />

<p>用分秒的跨度来看，一切都没变化，无关痛痒。以五年十年为单位来看，因果事理的轮廓就开始凸显。去年年底看到《鹧鸪天》一首，转发给COS全站：</p>

<blockquote><p>记得窗前槐树吗？几回树下过家家。泥巴盘子泥巴碗，塑料摇车塑料娃。<br/>
儿时梦，散如沙，谁知转瞬即天涯。老房拆了树还在，一到夏天开白花。</p></blockquote>

<p>这就是时间的力量。我在<a href="/">首页</a>放了一首龚自珍的词，气场太强大了，当时狠狠震了我一把，千古声名，百年担负。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>欲写已忘言</title>
      <link href="http://yihui.name/cn/2012/02/many-things-to-nothing/"/>
      <pubDate>2012-02-20T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/02/many-things-to-nothing</guid>
      <content:encoded><![CDATA[<p>博客是不能断的东西，断久了就真不知道要写什么了，因为脑子已经超出键盘一大截，鸡零狗碎的装了一大堆。<a href="http://taiyun.cos.name">太云</a>的网站标题说优秀是一种习惯，这就是个习惯问题，要做好一件事情，不能指望大脑来控制（人脑从来都不靠谱），而是要把一件事情做成习惯。比如总是不写东西，慢慢地时间就被其它事情占据，久而久之，成了习惯，就再也写不动了。这周老板下山去了，于是更加放肆折腾自己的事情（代价是要上的课都留给我上了）。这次又得像<a href="/cn/2011/07/subtle-mind-to-great-waves/">上次</a>一样，各种残篇残念摘抄揉一起，所以难免意识流。</p>

<ol>
<li><p>雪</p>

<p> 今年村里天气有点奇特，用摔跤这个指标来衡量的话，我这个冬天只滑过一次。总体来说，尽管这地方雪大，但对冬天却没什么感觉，因为暖气太足，我总是想要是地球发生气候突变，美帝很可能先灭绝——环境太娇惯了。在英语环境中，雪似乎完全变成了一个纯粹的物理对象，什么感觉都没有。《九阴真经》中铁掌帮帮主上官南念了一首《三国》中的小诗（我是先看电视剧后知道出处的），让我印象深刻：</p>

<blockquote><p>一夜北风寒，万里彤云厚；<br/>
长空雪乱飘，改尽江山旧。<br/>
仰面观太虚，疑是玉龙斗；<br/>
纷纷麟甲飞，顷刻遍宇宙。<br/>
骑驴过小桥，独叹梅花瘦。</p></blockquote>

<p> 这里没法骑驴过小桥，只能开车过大桥，而且开车还得小心雪。前些日子有位大人在本小子的办公室白板上就这雪景题诗一首：</p>

<blockquote><p>流落美帝苦，漫天雪花舞。<br/>
闲来无事做，不如煮香菇。</p></blockquote>

<p> 按小说的规矩，一般在墙上题诗都是要造反的，不过这位是送香菇的，善哉善哉。一样是雪，有人鳞甲飞，有人煮香菇，各人有各人的逍遥自在。</p></li>
<li><p>巨子</p>

<p> 我放出<a href="/knitr/">knitr</a>之后，意外收到了很多巨子的回复，让我颇为惊喜。比如Venables，也就是<a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a>那位大人。收到V大人来信并不是最神奇的事情，而是他居然学过中文，过年那天他还用拼音跟我说新年快乐、恭喜发财。最近Harrell大人也在折腾knitr，已经下定决心用knitr重写他的书，跟这样的巨子交流就很爽快，因为他是明白人，受过Sweave的常年折磨，精确地知道怎样的软件才能让作者免于折磨，这样的人就是knitr最好的客户；很多人不像我受过几年Sweave折磨（最后才揭竿而起），所以无法理解knitr的优势所在；还有更可怕的情况是，有些人已经被Sweave的暗黑技巧深深毒害了思维方式，这样的人就更难说服了。还有一位<a href="http://www2.mdanderson.org/app/peoplefinder/person.cfm?id=3D5DD6DDC916">Coombes</a>大人，有些客官可能熟悉他，前两年Duke的癌症研究<a href="http://www.cbsnews.com/video/watch/?id=7398476n&amp;tag=cbsnewsMainColumnArea.8">丑闻</a>背后的“侦探”之一就是他，他一直宣扬可重复的研究，重头工具之一便是Sweave，本小子费了一番小牛鼻子劲，最后终于让他对knitr动心了。我本来做梦也没想到我会跟RStudio真的扯上关系，一年前我<a href="/cn/2011/03/rstudio/">写到RStudio</a>的时候只是觉得服务器版本很酷；结果后来Allaire大人亲自登门，一来二去，现在RStudio的<a href="http://www.rstudio.org/download/daily/desktop/">开发版本</a>中也纳入了knitr支持，而且俩人作个揖现在互为粉丝了，本小子又忍不住小得意了一番。顺便提一下，现在我的相互粉丝团成员三名，另外两名是咱COS的师姐与小轩哥。好了，尽管吹牛不交税，牛皮吹大了也不好收场，转入严肃话题。</p>

<p> 转台之前，为啥我用“巨子”这个词？显然我最近在看《秦时明月》，我觉得这动画挺好的，寒假在家跟着侄子一起看了几集，第二次觉得国产动画片挺有味道。第一次是看《魁拔》，可惜下一集不知道猴年马月才能出。</p>

<p> <img src="http://gb.cri.cn/mmsource/images/2011/06/08/60/5837897132219067376.jpg" alt="窝窝村，我喜欢这个名字" /></p></li>
<li><p>得失</p>

<p> 前天<a href="https://github.com/Jiangtang">江堂</a>来电，说<a href="http://github.com">GitHub</a>的事情。我又引一个人上了贼船，不，这不是贼船，是程序员的天堂。简单聊聊美帝生活，发现咱俩都是一山头看另一山头，相互羡慕。我看他生活有声有色，他看我心无旁骛专心折腾代码。文字这东西只是反映生活的一个视角，大部分时间里，可能我们生活也没啥大不一样。说到网站：</p>

<blockquote><p>J: 你的网站改版后看起来有品了啊<br/>
X: 其实内部一团糟啊<br/>
J: 人僧追求嘛啊！追求的奏是介个！<br/>
X: 嗯，也是，也是</p></blockquote>

<p> 我过去好像说过，我追求的就是一个字：美。美网站也好，美代码也好，美味佳肴也好（这个惭愧，追求下降了）。有时候想想，况且况且况况且登场，到底是要追求演一场小戏还是追求成王封侯？子曾经曰过：得之窃喜焉，失之未觉也。（不要搜出处，我是吕秀才的粉丝，大家懂的）</p>

<p> Youtube上有一则<a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=C7DvYFRvDdw">无名视频</a>我觉得很好，它的特别之处在于前后5分钟的内容是一样的，但前5分钟有音乐，后5分钟完全静音。又是一个看事物角度的好例子，于无声处听——呃，不是惊雷——没词了。你听不听得见音乐，在于你心里有没有音乐。</p></li>
<li><p>下回分解</p>

<p> 搬家过后日志的长度明显不一样了，在线写日志和离线用记事本写日志是完全不同的感受。尽管现在倒了些废话出来，还有不少废话。下集预告：归去来兮。</p></li>
</ol>

]]></content:encoded>
    </item>
    
    <item>
      <title>Jekyll世界</title>
      <link href="http://yihui.name/cn/2012/02/hello-jekyll/"/>
      <pubDate>2012-02-12T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2012/02/hello-jekyll</guid>
      <content:encoded><![CDATA[<p>一晃三个月过去，这里似乎没了动静。各位大人、路人以及丈人都很好奇，这娃儿究竟干啥去了，于是今天从山沟沟里爬出来解释一下。三个月前我说那是我在WordPress（WP）下写的最后一篇日志，话扔出来了当然不能反悔，尽管中途有几次想写点东西，但都憋回去了。不写日志也好，省点时间写代码。去年<a href="https://github.com/yihui/knitr/graphs/impact">10月份中旬</a>我鬼使神差开始写一个叫<a href="http://yihui.name/knitr/">knitr</a>的新包，其实也是我盘算了几年一直没干的一件事，最后对Sweave终于忍到了极点，操起键盘花了三个月革了命。这是题外话，以后再细说。</p>

<p>每个人离开一个软件或一套系统一般都带着负面情绪，比如烦恼抓狂恨，但WP必然不属于这一类系统；我看到的几乎每一个离开WP投奔<a href="http://github.com/mojombo/jekyll/">Jekyll</a>的人都无一例外大加赞扬WP，这事情就很有趣了，为什么你赞它还要弃用它？我虽然已经换到Jekyll，但也同样赞WP并感恩戴德，过去我已经说过好几次WP是程序设计的上乘之作，它的功能之灵活以及API之清晰别的网站系统很难比拟。然而某些码农的目标只是把事情做完（GTD），某些码农的追求则是无止境的，我就属于极简主义者，理想情况下我希望一套系统只有一个主要功能，把其它枝叶都砍掉，让用户能集中精神只做一件事情。比如博客网站只有写作功能，论坛只有讨论问题功能，聊天软件只有聊天功能。WP基本上符合这个要求了，它和其它的网站系统比，已经大大简化，只要模板设定好，剩下的就是写作；话虽这么说，实际情况却并非如此，我还是要花精力做一些额外的事情，比如我需要上网，要登录后台，要编辑HTML（像我这样的代码洁癖，眼里容不得冗余代码），要管理图片和附件，看着别人的新插件还眼馋（一装就又陷入新的维护陷阱），最要命的是，所有的东西都在数据库中，每次WP出了新版本，我都要颤颤巍巍点那个更新按钮，然后祈祷数据库不要出问题（我懒得导入导出备份）。</p>

<p>Jekyll完全推翻了传统网站的维护方式，它直接回到了“原点”——作者只需要维护文本文件，每一篇日志就是一个文件，程序会根据模板设置自动把这些文本文件翻译为网页。这些文本文件不用HTML，而是用简化版本的Markdown（MD）或者其它可最终翻译为HTML的伪标记语言。MD的哲学深得我心：把<a href="http://daringfireball.net/projects/markdown/">语法</a>简化90%，去实现大多数常用的HTML标签，牺牲少数不常用的标签（这些标签仍然可以用原始的HTML代码写）。比如要写无序列表的话，在HTML里面要用</p>

<p>每一项列表项都用<code>li</code>标签围起来，而在MD语法里，只需要一行一行写就行了，每一行开头写一个减号 <code>-</code> 就足够，就像自己记笔记一样：</p>

<p>一个字符（确切地说是两个，后面还得跟个空格）和一串要重复敲的字符比，哪个简洁显而易见。简洁的MD语法配合几项YAML设置就是一篇日志，扔进Liquid模版系统，Jekyll就把网站编译出来了。</p>

<p>八年前我在用文本文件做网站，八年后我又回到了文本文件，当然事情已经有了本质变化。这次从WP搬家，尽管有一些自动转换程序，但还是费了不少劲，423篇中文，103篇英文，几千评论，搬得我差点没疯掉。比如我做的第一件事情是解决<a href="/cn/2009/05/php-301-redirect-from-bo-blog-to-wordpress/">上一次搬家</a>的历史遗留问题：从Bo-blog搬到WP的时候，有些评论的嵌套关系乱了，所以我花了一天时间先把评论在数据库中修改对齐，这个过程基本上是手工看评论ID，把父评论和子评论的ID都记下来，然后用R生成几百条SQL语句，扔给数据库执行。评论整完导入Disqus，一个专注于做评论的网站。剩下的日志用一个Python程序从WP的XML文件导出为MD文件，导完又是一片残垣断壁，我只整理了最近的十篇日志，之前的几百篇用R正则表达式简单处理了一下，以后再慢慢手工整理，再往后还想把2004年起的一些老日志也导进来，像王晓伟说的，<a href="http://www.blog496.org/2011-2-11-stand-in-the-cross-road.html">记录生活</a>。英文<a href="/en/vitae/">简历页面</a>花了很大功夫整理了一下，主要是那些幻灯片文件，整体挪到GitHub中<a href="https://github.com/yihui/yihui.github.com/downloads">下载</a>，尽管这样会造成一批404错误，但文件太多，重定向太麻烦，想想算了。</p>

<p>凡事如果能退到文本文件的层面，基本上就意味着可以为所欲为了。就如同LaTeX是纯文本文件，所以很方便和R结合生成动态文档；PHP是纯文本文件，可以任意混合HTML代码。如果我乐意，我可以在MD代码里嵌入R代码，动态生成日志（这个实际上已经在knitr中实现了）。</p>

<p>使用Jekyll的另一大动力当然是GitHub，它提供编译服务，所以用户只需要用GIT管理文本文件就可以了。要写日志就新建一个文本文件，写完推上去完事，由于GIT支持离线工作，随时随地都可以写，不受网络环境限制。</p>

<p>为了找一个中意的模板，我把Jekyll维基上的网站列表扒了几遍，最后找到一个符合我理想中的样式的网站，<a href="http://lhzhang.com">作者</a>也是极简主义者。这个模板适合日志，但不太适合首页，所以我在<a href="/">首页</a>用了另一套模板。中文字体使用肖楠介绍过的<a href="http://www.road2stat.com/cn/tag/hiragino-sans-gb">冬青黑体</a>和微软雅黑，这样苹果和Windows都能看，而我相信Linux用户对中文字体总是有办法的，比如自己调一下文泉驿字体；英文优先使用Google字体中的Galdeano，然后使用其它常见无衬线字体。整个网页使用了一些HTML5标签，所以关于Windows下的IE浏览器我就不用多说了，若版本不够，页面可能会错乱。</p>

<p>日志页面中支持键盘左右方向键或JK键前后导航，这是JavaScript实现的，归功于<a href="http://ztpala.com/2012/01/16/jquery-keyboard-navigation/">Tao Zhang</a>。文章<a href="/cn/feed/">RSS订阅</a>依然存在，所有日志的链接也没有变化，只是评论RSS变了，要么订阅<a href="http://yihui.disqus.com/latest.rss">整站评论</a>，要么订阅单篇文章评论（每个页面的底部）。</p>

<p>一连看几年的文章的感触非常大，就像看一部快速播放的电影，生活在其中一天天过没什么感觉，但呼哧一下看过去，感觉很不一样，我从过去自己的一些评论和文章里总结了我的（至少）四点明显问题：</p>

<ul>
<li>明明年轻却卖老</li>
<li>气盛，欺人</li>
<li>很多评论非常无聊，为了评论而评论</li>
<li>中英混杂</li>
</ul>


<p>关于这些事，想想有点后背发凉，尤其是第二点，必然伤了一些人；而其中第四点我现如今逮一个批一个，不管是谁（包括师姐在内），不料自己过去其实也是这样的。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>HTML5幻灯片</title>
      <link href="http://yihui.name/cn/2011/11/html5-slides/"/>
      <pubDate>2011-11-03T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2011/11/html5-slides</guid>
      <content:encoded><![CDATA[<p>这大概是我在WordPress下写的最后一篇日志，我要奔向静态网站了。昨天<a href="http://www.stat.iastate.edu/seminars/seminar.html?id=649">在系里</a>做了个小报告，漫谈一下这几年开发R包的一些故事，基本上是鬼扯。这次的报告摘要是目前写得最成功的一个，因为一点都不严肃，通知发出去之后好几个人遇到我都号称“贼喜欢这摘要”，让我忍不住小得意了一番。由于早已厌倦学术报告上清一色的Beamer片子，我后来投奔古老的Foiltex（基本上就是白纸），这次<a href="http://yihui.github.com/slides/2011-r-dev-lessons.html">尝试了一下HTML5</a>，片子做出来我自己都觉得增加了不少讲的动力，因为风格完全自由了，愿意放图就放图，愿意用什么字体就用什么字体，简言之，要多华丽有多华丽。这片子有多难做呢？答案是会打字基本上就够了。我用的是keydown，Ruby Gem一枚，片子的<a href="https://raw.github.com/yihui/yihui.github.com/master/slides/2011-r-dev-lessons.md">源代码</a>极其简单。</p>

<p>珍爱生命，远离<code>\includegraphics{}</code>。</p>

<p>又及：珍爱生命，远离IE。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>魂归大地</title>
      <link href="http://yihui.name/cn/2011/10/back-into-the-dust/"/>
      <pubDate>2011-10-18T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2011/10/back-into-the-dust</guid>
      <content:encoded><![CDATA[<p>标题来自先生的一句话：生不枉来，死不犹豫；立志天下，魂归大地。我似懂非懂。</p>

<p>前些日子，COS内部说起个人网站的事情，我这两天抽空琢磨了一下，猛然间意识到我在折腾网站的八年里走了个循环。昨天我在邮件中描述为“回归尘土”，这事情是这样：九年前开始正式接触电脑，一年后我开始对网站感兴趣，并且找免费个人主页空间找了很久，直到后来有一次在一张传单中看见一个可以免费建站的广告，于是就注册建了一个，当然，那时候不会有什么好货，域名是三级域名，我呆头呆脑抄了很多所谓的英文美文在上面，还从图书馆借了书学HTML，连VBScript都仔细学过，而且对于写个在网页内弹个对话框的小脚本乐此不疲。为了说明这个乐此不疲有多乐此不疲，举一例：在机房上数据库的课，老师会把所有人的屏幕都控制住，而我发现其实只有显示器被控制住了，键盘鼠标仍然可以在“幕后”操作，因此，我按Win + R快捷键，盲打输入notepad，回车，然后开始盲打写弹对话框的VBSript，等到下课，屏幕被解放，我写的脚本真的可以运行并弹对话框。那个免费个人网站也让我学习了一点CSS的概念，但我主要还是用Word的思维方式做网页，哪里要加粗就直接加粗，哪里要变红就选红色，几乎没有“内容与样式分离”的概念（拜Word所赐，可能大多数人到现在也没有这个概念）；话说回来，其实我还真用过Word做网页，我的一个亲戚当年让我帮忙做几个网页，我就是手工敲进Word，然后另存为HTML。再过一年，系里网站工作室招学生维护系里的网站，我就呆头呆脑报名去了，就凭我那Word式网站功底。之后接触了Dreamweaver，才算真正掌握HTML，并接触ASP和JavaScript，并且尝试过从零开始建Access数据库连ASP，所以IIS也熟了（估计很多人也不知道什么是IIS，这样也好，祝愿Windows服务器早日垮台）。DW中学会了模板的概念，网页的头尾都用模板定义，这样就省去了重复劳动。因为DW和Fireworks是同一个公司出品，所以编辑图形我都用Fireworks，这也是我在<a href="http://cos.name/2011/05/write-r-packages-like-a-ninja/">R包忍者篇</a>中说我曾经想学Photoshop的后台故事。从接手系里的网站开始，我开始捣腾论坛系统，此乃灌水元年，也是统计之都的前世。论坛系统换过两次，一直折腾到那台老旧的IBM服务器彻底瘫痪掉。再过一年，博客这个概念开始在中国发芽，第一个博客网大概就是方兴东的博客中国，后已改名为bokee，当时那个玩了两年10磅宋体字的我，看见这个网站有一个12号字的主题，于是立刻注册了个帐号，开始写博客。我对CSS的了解，自此开始深入，比如我曾经发现通过CSS来隐藏网站上的广告的办法——谁让他们支持自定义CSS的呢，我定义一个<code>display:none</code>就把网站上的广告灭了。年少轻狂的这个娃儿，整天给客服提意见，说这不灵活那不好，有一天方兴东接见了一批用户，客服叫了我去，于是我骑着破自行车颠儿颠儿去了，这就是无知者无畏。今天我再搜了一下当年的历史，后知后觉发现本小子也曾经和张纪中、方舟子同时出现过“<a href="http://www.zjol.com.cn/05qianbao/system/2006/04/25/006589310.shtml">名人大话博客节</a>”里，现在顿时觉得脸上贴了不少金，哥也曾经风光过。那时候是钱江晚报的记者打电话采访，我都忘了我说了些什么了。在博客中国写了两年，觉得系统越来越差，于是换到blog.com.cn写，它比较容易自定义，当然，对“久经沙场”的我来说，首先就是要用CSS把页面上的广告灭掉。再折腾两年，系统控制越来越严格，尤其是关键词屏蔽，最可恨的是你写一篇文章提交发现不让提交，但就是不告诉你哪个词犯法了，只能一边在心里骂狗日的一边从最后一句话删起，删一句提交一次，看哪次能通过，再一句一句加回来，这就是我早期培养的程序debug方法，极其白痴，极其有效。再后来，换到MSN Space，因为英文字体看起来舒服，所以开始写英文博客（看，从始至终，我都是个视觉驱动的动物，各种转变的原因听起来都非常脑残）。从英文博客开始，我变得极其注重HTML代码的干净（经常切换到代码界面下看看代码是否整齐），或称为HTML代码洁癖，无法容忍没理由的加粗变红或更恶劣的放大字号，这也是我把COS论坛从PHPWind改为bbPress的理由之一：我不能容忍发贴者能放大字号或使用楷体隶书。英文博客写了两年，后来大家都知道了，大中华局域网来了，自此本小子开始建真正的个人网站，注册个人域名，买服务器空间。PHP+MySQL在搭论坛和建个人网站期间也被迫学了点皮毛。后见Wordpress，深感设计之惊艳——无论是PHP程序还是外观，于是COS的主站从MePHP换到WP。无论什么系统，我已经脱离了刀耕火种的纯手工HTML生活。到如今，我在GitHub上写了两年代码后，猛然意识到Markdown这门语言之精炼，这正是我追求的（极度）简洁，而GH对Markdown和其它伪标记语言都支持得非常好，而前两天，又发现基于Markdown的<a href="https://github.com/mojombo/jekyll/">Jekyll</a>，纯文本写博客的系统。除了R语言别的都不会的本小子，意识到我对Ruby、RubyGems和Python的认识已经落后于时代若干年，我以为整个世界还是在PHP+MySQL中运转，结果这些语言已经派生了无数惊人的美观的简洁的静态网站系统。从最初的静态网页，到现在再回归静态网页，我走完一个了循环。回想这些陈年旧事，不免让我再思考乔布斯大人，关于他的报道，我大概就认真看过一两篇，头一次知道他是佛教徒，世人总喜欢盖棺论定，尤其爱总结<strong>已成功</strong>人士成功的原因，就像经济学家在过去的五次经济危机中成功预测对了二十次一样；我想知道他到底在想什么，他如何追求能降伏用户的细节，或者说如何让产品始终带着人性。统计之都的口号“专业、人本、正直”<a href="http://cos.name/2011/05/a-letter-to-yihui-xie-and-cos/">或许是个好的口号</a>。</p>

<p>如果网页可以如此简洁高效并且只是基于纯文本，那么我可以立刻嗅出统计人的一个光明前途。此处省略八千字，如果你手中有八百万风投，请两年后联系我。这里我要说的是魂归大地，但并不是要说我自己，网页和魂归大地扯上关系有点勉强，这些东西真刀实枪干活就行了，没必要整得那么玄乎。最近有两个TED视频，我觉得都非常好，让我想起先生的“魂归大地”。一则为<a href="http://www.ted.com/talks/justin_hall_tipping_freeing_energy_from_the_grid.html">开发新（纳米）材料获取能源（太阳能）</a>的人，技术听起来很诱人，你家的窗户玻璃在夏天自动排热、冬天吸热，不知道能省多少能源，但这不是关键，关键是视频的最后，他从钱包里拿出一张旧报纸上剪下来的照片，那就是那幅著名的获普利策奖的照片《饥饿的苏丹》。“她不应该死于缺水，无论如何”，演讲者说。</p>

<object width="526" height="374">
<param name="movie" value="http://video.ted.com/assets/player/swf/EmbedPlayer.swf"></param>
<param name="allowFullScreen" value="true" />
<param name="allowScriptAccess" value="always"/>
<param name="wmode" value="transparent"></param>
<param name="bgColor" value="#ffffff"></param>
<param name="flashvars" value="vu=http://video.ted.com/talk/stream/2011G/Blank/JustinHallTipping_2011G-320k.mp4&su=http://images.ted.com/images/ted/tedindex/embed-posters/JustinHallTipping_2011G-embed.jpg&vw=512&vh=288&ap=0&ti=1249&lang=&introDuration=15330&adDuration=4000&postAdDuration=830&adKeys=talk=justin_hall_tipping_freeing_energy_from_the_grid;year=2011;theme=a_greener_future;theme=tales_of_invention;theme=the_rise_of_collaboration;event=TEDGlobal+2011;tag=energy;tag=entrepreneur;tag=environment;tag=science;tag=technology;&preAdTag=tconf.ted/embed;tile=1;sz=512x288;" />
<embed src="http://video.ted.com/assets/player/swf/EmbedPlayer.swf" pluginspace="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" wmode="transparent" bgColor="#ffffff" width="526" height="374" allowFullScreen="true" allowScriptAccess="always" flashvars="vu=http://video.ted.com/talk/stream/2011G/Blank/JustinHallTipping_2011G-320k.mp4&su=http://images.ted.com/images/ted/tedindex/embed-posters/JustinHallTipping_2011G-embed.jpg&vw=512&vh=288&ap=0&ti=1249&lang=&introDuration=15330&adDuration=4000&postAdDuration=830&adKeys=talk=justin_hall_tipping_freeing_energy_from_the_grid;year=2011;theme=a_greener_future;theme=tales_of_invention;theme=the_rise_of_collaboration;event=TEDGlobal+2011;tag=energy;tag=entrepreneur;tag=environment;tag=science;tag=technology;&preAdTag=tconf.ted/embed;tile=1;sz=512x288;"></embed>
</object>


<p>另一则为<a href="http://www.ted.com/talks/bunker_roy.html">赤脚运动的印度大爷</a>，博士毕业，回村，跟老娘说要先挖井五年（如果我没听错的话），老娘听了差点没气疯。一辈子干了一件事，教育印度农民（或者说被教育），尤其是印度农妇，让五十多岁的老大娘都学会了整太阳能照明；这大爷认为民间自有高手在，要发掘他们的天才才干，向他们学习，他的学校里学生是老师，老师是学生；妇女们都会用太阳光聚焦了做饭，一个个比工程师都厉害；一位妻子说有了太阳能照明，她头一次在冬天里看清了她丈夫的脸。本小子非常相信这位大爷对贫民的看法，穷人有穷人的生存智慧。某个偏远山村的夜里头一次亮起灯光，这种感觉可能就是魂归大地了吧。</p>

<object width="526" height="374">
<param name="movie" value="http://video.ted.com/assets/player/swf/EmbedPlayer.swf"></param>
<param name="allowFullScreen" value="true" />
<param name="allowScriptAccess" value="always"/>
<param name="wmode" value="transparent"></param>
<param name="bgColor" value="#ffffff"></param>
<param name="flashvars" value="vu=http://video.ted.com/talk/stream/2011G/Blank/BunkerRoy_2011G-320k.mp4&su=http://images.ted.com/images/ted/tedindex/embed-posters/BunkerRoy_2011G-embed.jpg&vw=512&vh=288&ap=0&ti=1248&lang=&introDuration=15330&adDuration=4000&postAdDuration=830&adKeys=talk=bunker_roy;year=2011;theme=master_storytellers;theme=not_business_as_usual;theme=the_creative_spark;theme=how_we_learn;event=TEDGlobal+2011;tag=culture;tag=development;tag=education;tag=global+issues;tag=invention;tag=women;&preAdTag=tconf.ted/embed;tile=1;sz=512x288;" />
<embed src="http://video.ted.com/assets/player/swf/EmbedPlayer.swf" pluginspace="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" wmode="transparent" bgColor="#ffffff" width="526" height="374" allowFullScreen="true" allowScriptAccess="always" flashvars="vu=http://video.ted.com/talk/stream/2011G/Blank/BunkerRoy_2011G-320k.mp4&su=http://images.ted.com/images/ted/tedindex/embed-posters/BunkerRoy_2011G-embed.jpg&vw=512&vh=288&ap=0&ti=1248&lang=&introDuration=15330&adDuration=4000&postAdDuration=830&adKeys=talk=bunker_roy;year=2011;theme=master_storytellers;theme=not_business_as_usual;theme=the_creative_spark;theme=how_we_learn;event=TEDGlobal+2011;tag=culture;tag=development;tag=education;tag=global+issues;tag=invention;tag=women;&preAdTag=tconf.ted/embed;tile=1;sz=512x288;"></embed>
</object>



]]></content:encoded>
    </item>
    
    <item>
      <title>流氓有文化</title>
      <link href="http://yihui.name/cn/2011/10/rascal-with-knowledge/"/>
      <pubDate>2011-10-05T00:00:00+08:00</pubDate>
      <author>谢益辉</author>
      <guid>http://yihui.name/cn/2011/10/rascal-with-knowledge</guid>
      <content:encoded><![CDATA[<p>因为Qt的一个<a href="https://bugreports.qt.nokia.com/browse/QTBUG-19449">错误缓存</a>（严格来说是过度缓存）bug，俺们<a href="http://yihui.name/cn/2011/09/cranvas-package/">开发cranvas包</a>也一直很气馁。忍了半年多了，本小子终于不能再忍受，决心使出多年不用的流氓手段插手这件事：挨个找跟这个bug有关的人发邮件问，从各种源代码和邮件列表中找邮箱。找着找着，突然发现这个bug已经在Qt 4.8.0中修正了（未发布），遂停止流氓手段。切，原来我一直被Michael忽悠着，听他的意思好像总在说Qt木有人管了，bug木有修正的可能了。这个bug的大意是如果图中使用了线性缩放的变换，缓存就会失效，任何操作都会导致所有图形元素被重画。对于交互式图形来说，显然没必要重画所有元素，主图层通常是被缓存起来的，只有被选中的元素才被重画，这是提升速度的关键所在。这个问题解决后，即使画三百万个点也只是两三秒的事情，画出来之后刷子可以很流畅地在图上刷，这才能体现Qt真正的威力。</p>

<p>近日看到<a href="http://weibo.com/lispython">卢大编辑一万小时PPT</a>的事迹，很赞，我也是相信“死磕到底”的人。想想已经磕了五年统计之都，七年R，九年统计（最后这个数字很有水分，不如前两个数字有底气），但愿不要从学士硕士博士圣斗士磕到烈士。</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
